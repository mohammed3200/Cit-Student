import { Dimensions, View, StyleSheet } from "react-native";
import React, { useEffect } from "react";
import Svg from "react-native-svg";

import AnimatedStroke from "./AnimatedStroke";
import { Easing, useSharedValue, withTiming } from "react-native-reanimated";

const MARGIN = 10;
const vWidth = 775 + MARGIN;
const vHieght = 381 + MARGIN;
const width = Dimensions.get("window").width - 64;
const heigth = (width * vHieght) / vWidth;
const path = [
  "M296.811 144C284.411 144 273.878 141.867 265.211 137.6C256.678 133.2 250.144 127 245.611 119C241.078 110.867 238.544 101.133 238.011 89.8C237.878 84.3333 237.811 78.4667 237.811 72.2C237.811 65.9333 237.878 59.9333 238.011 54.2C238.544 43 241.078 33.3333 245.611 25.2C250.278 17.0667 256.878 10.8667 265.411 6.59999C274.078 2.19999 284.544 -7.62939e-06 296.811 -7.62939e-06C305.878 -7.62939e-06 314.011 1.19999 321.211 3.59999C328.411 5.99999 334.544 9.33333 339.611 13.6C344.678 17.7333 348.611 22.6 351.411 28.2C354.211 33.8 355.678 39.8667 355.811 46.4C355.944 47.6 355.544 48.6 354.611 49.4C353.811 50.2 352.811 50.6 351.611 50.6H332.611C331.144 50.6 329.944 50.2667 329.011 49.6C328.078 48.8 327.411 47.5333 327.011 45.8C324.878 37 321.211 31 316.011 27.8C310.811 24.6 304.344 23 296.611 23C287.678 23 280.544 25.5333 275.211 30.6C269.878 35.5333 267.011 43.7333 266.611 55.2C266.211 66.1333 266.211 77.3333 266.611 88.8C267.011 100.267 269.878 108.533 275.211 113.6C280.544 118.533 287.678 121 296.611 121C304.344 121 310.811 119.4 316.011 116.2C321.211 112.867 324.878 106.867 327.011 98.2C327.411 96.3333 328.078 95.0667 329.011 94.4C329.944 93.7333 331.144 93.4 332.611 93.4H351.611C352.811 93.4 353.811 93.8 354.611 94.6C355.544 95.4 355.944 96.4 355.811 97.6C355.678 104.133 354.211 110.2 351.411 115.8C348.611 121.4 344.678 126.333 339.611 130.6C334.544 134.733 328.411 138 321.211 140.4C314.011 142.8 305.878 144 296.811 144ZM384.33 142C382.996 142 381.863 141.533 380.93 140.6C379.996 139.667 379.53 138.533 379.53 137.2V6.79999C379.53 5.46666 379.996 4.33333 380.93 3.4C381.863 2.46666 382.996 1.99999 384.33 1.99999H403.13C404.596 1.99999 405.73 2.46666 406.53 3.4C407.463 4.33333 407.93 5.46666 407.93 6.79999V137.2C407.93 138.533 407.463 139.667 406.53 140.6C405.73 141.533 404.596 142 403.13 142H384.33ZM474.895 142C473.562 142 472.429 141.533 471.495 140.6C470.562 139.667 470.095 138.533 470.095 137.2V26.6H433.095C431.762 26.6 430.629 26.1333 429.695 25.2C428.762 24.2667 428.295 23.1333 428.295 21.8V7C428.295 5.53333 428.762 4.33333 429.695 3.4C430.629 2.46666 431.762 1.99999 433.095 1.99999H535.095C536.562 1.99999 537.762 2.46666 538.695 3.4C539.629 4.33333 540.095 5.53333 540.095 7V21.8C540.095 23.1333 539.629 24.2667 538.695 25.2C537.762 26.1333 536.562 26.6 535.095 26.6H498.295V137.2C498.295 138.533 497.829 139.667 496.895 140.6C495.962 141.533 494.762 142 493.295 142H474.895ZM57.3289 381C44.9289 381 34.5289 379.2 26.1289 375.6C17.8622 371.867 11.5289 367.067 7.12891 361.2C2.86224 355.2 0.595573 348.933 0.328907 342.4C0.328907 341.2 0.728907 340.2 1.52891 339.4C2.32891 338.6 3.32891 338.2 4.52891 338.2H22.3289C24.0622 338.2 25.3289 338.6 26.1289 339.4C27.0622 340.067 27.8622 340.933 28.5289 342C29.3289 344.533 30.8622 347.067 33.1289 349.6C35.3956 352 38.4622 354 42.3289 355.6C46.3289 357.2 51.3289 358 57.3289 358C66.9289 358 74.0622 356.4 78.7289 353.2C83.5289 350 85.9289 345.667 85.9289 340.2C85.9289 336.333 84.6622 333.267 82.1289 331C79.5956 328.6 75.6622 326.467 70.3289 324.6C65.1289 322.6 58.1956 320.533 49.5289 318.4C39.5289 316 31.1289 313.133 24.3289 309.8C17.6622 306.333 12.5956 302 9.12891 296.8C5.79557 291.6 4.12891 285 4.12891 277C4.12891 269.267 6.19557 262.4 10.3289 256.4C14.5956 250.4 20.5956 245.667 28.3289 242.2C36.1956 238.733 45.5289 237 56.3289 237C64.9956 237 72.6622 238.2 79.3289 240.6C85.9956 242.867 91.5289 245.933 95.9289 249.8C100.329 253.533 103.662 257.6 105.929 262C108.329 266.267 109.596 270.467 109.729 274.6C109.729 275.667 109.329 276.667 108.529 277.6C107.862 278.4 106.862 278.8 105.529 278.8H86.9289C85.8622 278.8 84.7956 278.533 83.7289 278C82.6622 277.467 81.7956 276.467 81.1289 275C80.3289 270.867 77.7289 267.333 73.3289 264.4C68.9289 261.467 63.2622 260 56.3289 260C49.1289 260 43.3289 261.333 38.9289 264C34.5289 266.667 32.3289 270.8 32.3289 276.4C32.3289 280.133 33.3956 283.267 35.5289 285.8C37.7956 288.2 41.3289 290.333 46.1289 292.2C51.0622 294.067 57.5289 296.067 65.5289 298.2C76.8622 300.733 86.1289 303.667 93.3289 307C100.529 310.333 105.796 314.6 109.129 319.8C112.462 324.867 114.129 331.333 114.129 339.2C114.129 348 111.729 355.533 106.929 361.8C102.262 367.933 95.6622 372.667 87.1289 376C78.5956 379.333 68.6622 381 57.3289 381ZM181.649 379C173.649 379 166.916 377.6 161.449 374.8C155.983 372 151.916 367.867 149.249 362.4C146.583 356.8 145.249 349.867 145.249 341.6V296.2H129.449C128.116 296.2 126.983 295.733 126.049 294.8C125.116 293.867 124.649 292.733 124.649 291.4V279.8C124.649 278.467 125.116 277.333 126.049 276.4C126.983 275.467 128.116 275 129.449 275H145.249V241.8C145.249 240.467 145.649 239.333 146.449 238.4C147.383 237.467 148.583 237 150.049 237H166.249C167.583 237 168.716 237.467 169.649 238.4C170.583 239.333 171.049 240.467 171.049 241.8V275H196.049C197.383 275 198.516 275.467 199.449 276.4C200.383 277.333 200.849 278.467 200.849 279.8V291.4C200.849 292.733 200.383 293.867 199.449 294.8C198.516 295.733 197.383 296.2 196.049 296.2H171.049V339.6C171.049 345.067 171.983 349.333 173.849 352.4C175.849 355.467 179.249 357 184.049 357H197.849C199.183 357 200.316 357.467 201.249 358.4C202.183 359.333 202.649 360.467 202.649 361.8V374.2C202.649 375.533 202.183 376.667 201.249 377.6C200.316 378.533 199.183 379 197.849 379H181.649ZM258.991 381C250.858 381 243.791 379.2 237.791 375.6C231.925 371.867 227.391 366.667 224.191 360C220.991 353.2 219.391 345.2 219.391 336V279.8C219.391 278.467 219.858 277.333 220.791 276.4C221.725 275.467 222.858 275 224.191 275H241.791C243.258 275 244.391 275.467 245.191 276.4C246.125 277.333 246.591 278.467 246.591 279.8V334.8C246.591 351.333 253.858 359.6 268.391 359.6C275.325 359.6 280.791 357.4 284.791 353C288.925 348.6 290.991 342.533 290.991 334.8V279.8C290.991 278.467 291.458 277.333 292.391 276.4C293.325 275.467 294.458 275 295.791 275H313.391C314.725 275 315.858 275.467 316.791 276.4C317.725 277.333 318.191 278.467 318.191 279.8V374.2C318.191 375.533 317.725 376.667 316.791 377.6C315.858 378.533 314.725 379 313.391 379H297.191C295.725 379 294.525 378.533 293.591 377.6C292.791 376.667 292.391 375.533 292.391 374.2V366C288.791 370.667 284.325 374.333 278.991 377C273.658 379.667 266.991 381 258.991 381ZM383.21 381C376.277 381 370.143 379.867 364.81 377.6C359.61 375.2 355.277 371.867 351.81 367.6C348.343 363.333 345.677 358.333 343.81 352.6C341.943 346.733 340.877 340.333 340.61 333.4C340.477 331 340.41 328.867 340.41 327C340.41 325 340.477 322.8 340.61 320.4C340.877 313.733 341.877 307.533 343.61 301.8C345.477 296.067 348.143 291.067 351.61 286.8C355.21 282.4 359.61 279 364.81 276.6C370.143 274.2 376.277 273 383.21 273C390.41 273 396.477 274.267 401.41 276.8C406.477 279.2 410.677 282.333 414.01 286.2V241.8C414.01 240.467 414.41 239.333 415.21 238.4C416.143 237.467 417.343 237 418.81 237H435.81C437.143 237 438.277 237.467 439.21 238.4C440.143 239.333 440.61 240.467 440.61 241.8V374.2C440.61 375.533 440.143 376.667 439.21 377.6C438.277 378.533 437.143 379 435.81 379H420.01C418.543 379 417.343 378.533 416.41 377.6C415.61 376.667 415.21 375.533 415.21 374.2V366.8C411.877 370.933 407.61 374.333 402.41 377C397.343 379.667 390.943 381 383.21 381ZM390.61 359.6C396.21 359.6 400.677 358.333 404.01 355.8C407.343 353.267 409.81 350.067 411.41 346.2C413.01 342.2 413.877 338.133 414.01 334C414.143 331.6 414.21 329.067 414.21 326.4C414.21 323.6 414.143 321 414.01 318.6C413.877 314.6 412.943 310.8 411.21 307.2C409.477 303.467 406.943 300.4 403.61 298C400.277 295.6 395.943 294.4 390.61 294.4C385.01 294.4 380.543 295.667 377.21 298.2C374.01 300.6 371.677 303.8 370.21 307.8C368.743 311.8 367.877 316.2 367.61 321C367.477 325 367.477 329 367.61 333C367.877 337.8 368.743 342.2 370.21 346.2C371.677 350.2 374.01 353.467 377.21 356C380.543 358.4 385.01 359.6 390.61 359.6ZM512.066 381C497.266 381 485.533 376.733 476.866 368.2C468.2 359.667 463.533 347.533 462.866 331.8C462.733 330.467 462.666 328.8 462.666 326.8C462.666 324.667 462.733 323 462.866 321.8C463.4 311.8 465.666 303.133 469.666 295.8C473.8 288.467 479.466 282.867 486.666 279C493.866 275 502.333 273 512.066 273C522.866 273 531.933 275.267 539.266 279.8C546.6 284.2 552.133 290.4 555.866 298.4C559.6 306.267 561.466 315.4 561.466 325.8V330C561.466 331.333 561 332.467 560.066 333.4C559.133 334.333 557.933 334.8 556.466 334.8H490.066C490.066 334.8 490.066 335 490.066 335.4C490.066 335.8 490.066 336.133 490.066 336.4C490.2 341.067 491.066 345.4 492.666 349.4C494.4 353.267 496.866 356.4 500.066 358.8C503.4 361.2 507.333 362.4 511.866 362.4C515.6 362.4 518.733 361.867 521.266 360.8C523.8 359.6 525.866 358.267 527.466 356.8C529.066 355.333 530.2 354.133 530.866 353.2C532.066 351.6 533 350.667 533.666 350.4C534.466 350 535.6 349.8 537.066 349.8H554.266C555.6 349.8 556.666 350.2 557.466 351C558.4 351.8 558.8 352.8 558.666 354C558.533 356.133 557.4 358.733 555.266 361.8C553.266 364.867 550.333 367.867 546.466 370.8C542.6 373.733 537.733 376.2 531.866 378.2C526.133 380.067 519.533 381 512.066 381ZM490.066 318H534.266V317.4C534.266 312.2 533.4 307.667 531.666 303.8C529.933 299.933 527.4 296.867 524.066 294.6C520.733 292.333 516.733 291.2 512.066 291.2C507.4 291.2 503.4 292.333 500.066 294.6C496.733 296.867 494.2 299.933 492.466 303.8C490.866 307.667 490.066 312.2 490.066 317.4V318ZM587.496 379C586.163 379 585.029 378.533 584.096 377.6C583.163 376.667 582.696 375.533 582.696 374.2V279.8C582.696 278.467 583.163 277.333 584.096 276.4C585.029 275.467 586.163 275 587.496 275H603.896C605.229 275 606.363 275.467 607.296 276.4C608.229 277.333 608.696 278.467 608.696 279.8V288C612.163 283.733 616.563 280.2 621.896 277.4C627.363 274.467 634.096 273 642.096 273C650.229 273 657.296 274.867 663.296 278.6C669.296 282.2 673.896 287.333 677.096 294C680.429 300.667 682.096 308.667 682.096 318V374.2C682.096 375.533 681.629 376.667 680.696 377.6C679.763 378.533 678.629 379 677.296 379H659.696C658.363 379 657.229 378.533 656.296 377.6C655.363 376.667 654.896 375.533 654.896 374.2V319.2C654.896 311.467 652.963 305.4 649.096 301C645.363 296.6 639.896 294.4 632.696 294.4C625.763 294.4 620.229 296.6 616.096 301C611.963 305.4 609.896 311.467 609.896 319.2V374.2C609.896 375.533 609.429 376.667 608.496 377.6C607.563 378.533 606.429 379 605.096 379H587.496ZM753.329 379C745.329 379 738.596 377.6 733.129 374.8C727.662 372 723.596 367.867 720.929 362.4C718.262 356.8 716.929 349.867 716.929 341.6V296.2H701.129C699.796 296.2 698.662 295.733 697.729 294.8C696.796 293.867 696.329 292.733 696.329 291.4V279.8C696.329 278.467 696.796 277.333 697.729 276.4C698.662 275.467 699.796 275 701.129 275H716.929V241.8C716.929 240.467 717.329 239.333 718.129 238.4C719.062 237.467 720.262 237 721.729 237H737.929C739.262 237 740.396 237.467 741.329 238.4C742.262 239.333 742.729 240.467 742.729 241.8V275H767.729C769.062 275 770.196 275.467 771.129 276.4C772.062 277.333 772.529 278.467 772.529 279.8V291.4C772.529 292.733 772.062 293.867 771.129 294.8C770.196 295.733 769.062 296.2 767.729 296.2H742.729V339.6C742.729 345.067 743.662 349.333 745.529 352.4C747.529 355.467 750.929 357 755.729 357H769.529C770.862 357 771.996 357.467 772.929 358.4C773.862 359.333 774.329 360.467 774.329 361.8V374.2C774.329 375.533 773.862 376.667 772.929 377.6C771.996 378.533 770.862 379 769.529 379H753.329Z",
];

export const StrokeAnimation = () => {
  const progress = useSharedValue(0);
  useEffect(() => {
    progress.value = withTiming(1, { duration: 4000, easing: Easing.linear });
  }, [progress]);
  return (
    <>
      <View
        className="flex-1 justify-center items-center"
        style={StyleSheet.absoluteFillObject}
      >
        {/* <Background /> */}
        <View
        className="flex-1 justify-center items-center"
         style={StyleSheet.absoluteFillObject}
        >
        </View>
        <Svg
          width={width}
          height={heigth}
          viewBox={[
            -MARGIN / 2,
            -MARGIN / 2,
            vWidth + MARGIN / 2,
            vHieght + MARGIN / 2,
          ].join(" ")}
        >
          {path.map((d, key) => (
            <AnimatedStroke d={d} key={key} progress={progress} />
          ))}
        </Svg>
      </View>
    </>
  );
};
